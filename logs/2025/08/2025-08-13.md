# 🗓️ 2025-08-02 (SAT)

> **Today I learned**  
How to parse nested XML structure using `ElementTree`, why `findall()` returns Element objects (not text), and how to navigate multi-level XML with multiple `for` loops.

---

## 📘 XML Parsing – `ElementTree` and Nested Tags

Today I worked with the following XML structure:

```xml
<commentinfo>
  <note>This file contains the sample data for testing</note>
  <comments>
    <comment>
      <name>Romina</name>
      <count>97</count>
    </comment>
    ...
  </comments>
</commentinfo>
```

Key observations:

- The root tag is `<commentinfo>`.
- The target data `<count>` is located *inside* `<comment>` tags, which are children of `<comments>`, which is inside `<commentinfo>`.
- Therefore, two levels of iteration are needed to access `<count>`.

---

## 🔍 Problem I Faced

Initially, I wrote:

```python
for roots in root:
    add = roots.findall('count')
    for i in add:
        print(i)
```

But this printed:

```
<Element 'count' at 0x...>
```

It showed memory addresses instead of actual values like `97`.

---

## 💡 Why This Happened

- `ElementTree.findall()` returns **Element objects**, not text.
- So `print(i)` prints the object itself (i.e., memory location).
- To access the actual value inside a tag, I need to use `.text`.

✅ Correct version:

```python
print(i.text)       # Outputs: 97
int(i.text)         # Converts text to int
```

---

## 🔁 Final Working Code

```python
import xml.etree.ElementTree as ET
import urllib.request as urr

url = input('Put the Location: ')
data = urr.urlopen(url).read()
root = ET.fromstring(data)

value = 0

comments = root.find('comments')  # <comments> tag
for comment in comments:
    for count_tag in comment.findall('count'):
        value += int(count_tag.text)

print("Total:", value)
```

---

## 💡 Insight

- XML parsing is all about **understanding structure**, not just writing code.
- Even if `.findall('count')` looks correct, it won't work unless you're iterating at the correct level.
- `.text` is essential when extracting the value inside XML tags.

---

## 🧠 Reflection

At first, I thought `findall()` would return the string directly, but now I understand it returns `Element` objects. Also, I learned that nested structures require nested loops or XPath-like syntax. From now on, I’ll always check the XML root and structure before writing `for` loops.

